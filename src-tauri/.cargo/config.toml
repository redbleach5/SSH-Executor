# Конфигурация Cargo для решения проблем с SSL/сетью
# ВНИМАНИЕ: Эта конфигурация используется только для разработки
# В продакшене рекомендуется использовать стандартные настройки Cargo

# Использование Git CLI вместо встроенного HTTP клиента
# Это безопасно и является стандартной практикой
# Git использует свой собственный SSL стек, который более устойчив к проблемам
[net]
git-fetch-with-cli = true
retry = 10

# КРИТИЧЕСКИ ВАЖНО: Отключаем sparse протокол и используем git-индекс
# Это решает проблемы с SSL, так как Git использует свой SSL стек
[registries.crates-io]
protocol = "git"

# Настройки HTTP
# При использовании git-индекса проверка сертификатов выполняется Git'ом
# check-revoke можно оставить включенным (по умолчанию), так как Git сам проверяет сертификаты
[http]
# Проверка отозванных сертификатов включена по умолчанию
# Если возникают проблемы, можно временно отключить через переменную окружения:
# $env:CARGO_HTTP_CHECK_REVOKE = "false"
# Но при использовании git-индекса это обычно не требуется
low-speed-limit = 1000
